<html>
  <head></head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/peerjs@0.3.20/dist/peer.min.js"></script>

    <div id="peer-id"></div>

    <div id="choose-peer">
      <input id="peer-chooser" type="text" placeholder="Peer id" />
      <button onclick="connectToPeer()">Connect to peer</button>
    </div>

    <script>
      var peer = new Peer({ key: 'lwjd5qra8257b9' });
      var conn = null;

      peer.on('open', function(id) {
        console.log('My peer ID is: ' + id);
        document.querySelector(
          '#peer-id'
        ).innerHTML = `Your peer id is: ${String(id)}`;
      });

      peer.on('connection', function(conn) {
        console.log('Someone is reaching out');
      });

      function connectToPeer() {
        var peerChoice = document.getElementById('peer-chooser').value;
        console.log(peerChoice);
        conn = peer.connect(peerChoice);
      }
    </script>
  </body>
</html>
